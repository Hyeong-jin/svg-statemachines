webpackJsonp([1],{0:function(t,e,n){var r=n(6),o=n(29);window.React=r;var i=n(118),a=o.create({routes:i,location:o.HashLocation});a.run(function(t){r.render(r.createElement(t,{data:{id:42}}),document.getElementById("container"))}),t.exports=a.run.bind(a)},112:function(t,e,n){var r=n(62).Dispatcher;t.exports=new r},115:function(t,e,n){var r=n(14),o=n(29),i=o.RouteHandler,a=r.createClass({displayName:"BaseView",render:function(){return r.createElement("div",{className:"page is-start"},r.createElement(i,null))}});t.exports=a},116:function(t,e,n){var r=n(14),o=n(120),i=n(222),a=r.createClass({displayName:"EditView",getInitialState:function(){return{states:i.getAll()}},componentWillMount:function(){i.on("change",this._handleChange)},componentWillUnmount:function(){i.off("change",this._handleChange)},_handleChange:function(){var t=i.getAll();this.setState({states:t})},render:function(){var t=this.state.states;return r.createElement("article",null,r.createElement(o,{key:"state-maschine",states:t}))}});t.exports=a},117:function(t,e,n){var r=n(14),o=n(29),i=o.Link,a=r.createClass({displayName:"Error404",render:function(){return r.createElement("div",{className:"page is-error is-404"},r.createElement("h1",{key:"headline"},"Not found."),r.createElement("p",{key:"msg"},r.createElement(i,{to:"index"},"Zur√ºck")))}});t.exports=a},118:function(t,e,n){var r=n(6),o=n(29),i=o.Route,a=o.DefaultRoute,s=o.NotFoundRoute;t.exports=r.createElement(i,{name:"index",path:"/",handler:n(115)},r.createElement(a,{name:"edit",handler:n(116)}),r.createElement(s,{handler:n(117)}))},119:function(t,e,n){function r(t){return[{x:t.x+t.w/2,y:t.y,name:"top"},{x:t.x+t.w/2,y:t.y+t.h,name:"bottom"},{x:t.x,y:t.y+t.h/2,name:"left"},{x:t.x+t.w,y:t.y+t.h/2,name:"right"}]}function o(t){var e=t.start,n=t.end,r=n.x-e.x,o=n.y-e.y;return Math.sqrt(r*r+o*o)}var i=n(14),a=n(34),s=i.PropTypes,u=s.shape({x:s.number.isRequired,y:s.number.isRequired,w:s.number.isRequired,h:s.number.isRequired}),c=i.createClass({displayName:"State",mixins:[i.addons.PureRenderMixin],propTypes:{id:s.string.isRequired,from:u.isRequired,to:u.isRequired},render:function(){var t=this.props.from,e=this.props.to,n=r(t),s=r(e),u=a(n).map(function(t){return s.map(function(e){return{start:t,end:e}})}).flatten().value(),c=a.min(u,o),l=c.start,p=c.end,f=["M"+l.x+" "+l.y,"left"===l.name?"H"+(l.x-10):"","right"===l.name?"H"+(l.x+10):"","top"===l.name?"V"+(l.y-10):"","bottom"===l.name?"V"+(l.y+10):"","left"===p.name?"H"+(p.x-10):"","right"===p.name?"H"+(p.x+10):"","top"===p.name?"V"+(p.y-10):"","bottom"===p.name?"V"+(p.y+10):"","left"===p.name||"right"===p.name?"V"+p.y:"","H"+p.x,"V"+p.y].join(" ");return i.createElement("path",{d:f,className:"connection"})}});t.exports=c},120:function(t,e,n){var r=n(14),o=r.PropTypes,i=n(121),a=n(119),s=n(221),u=r.createClass({displayName:"StateMaschine",propTypes:{states:o.arrayOf(o.shape({id:o.string.isRequired,connections:o.arrayOf(o.shape({target:o.string.isRequired}))})).isRequired},markers:['<marker id="markerCircle" markerWidth="8" markerHeight="8" refx="5" refy="5">','<circle cx="5" cy="5" r="2"/>',"</marker>",'<marker id="markerBox" markerWidth="4" markerHeight="4" refx="2" refy="2">','<rect x="0" y="0" width="4" height="4"/>',"</marker>",'<marker id="markerArrow" markerWidth="13" markerHeight="13" refx="2" refy="6" orient="auto">','<path d="M2,2 L2,11 L10,6 L2,2"/>',"</marker>"].join("\n"),render:function(){var t=this.props,e=t.states.map(function(t){return r.createElement(i,r.__spread({},t,{key:t.id}))}),n=s(t.states).map(function(t){return r.createElement(a,r.__spread({},t,{key:t.id}))});return r.createElement("svg",{className:"state-maschine",width:"800",height:"500"},r.createElement("defs",{dangerouslySetInnerHTML:{__html:this.markers}}),e,n)}});t.exports=u},121:function(t,e,n){var r=n(14),o=r.PropTypes,i=n(112),a=n(122),s=r.createClass({displayName:"State",mixins:[r.addons.PureRenderMixin],propTypes:{x:o.number.isRequired,y:o.number.isRequired,w:o.number.isRequired,h:o.number.isRequired,bg:o.string.isRequired,connections:o.arrayOf(o.shape({x:o.number.isRequired,y:o.number.isRequired,w:o.number.isRequired,h:o.number.isRequired}))},activateDrag:function(){if(event.stopPropagation(),0===event.button){var t=event.touches?event.touches[0]:event;this.mouse={x:t.pageX,y:t.pageY},window.addEventListener("mousemove",this.handleDrag),window.addEventListener("mouseup",this.deactivateDrag)}},handleDrag:function(t){t.stopPropagation();var e=t.touches?t.touches[0]:t,n={x:e.pageX,y:e.pageY},r={x:this.props.x-(this.mouse.x-n.x),y:this.props.y-(this.mouse.y-n.y)};i.dispatch({type:"STATE_MOVE",query:{id:this.props.id},data:r}),this.mouse=n},deactivateDrag:function(){event.stopPropagation(),window.removeEventListener("mousemove",this.handleDrag),window.removeEventListener("mouseup",this.deactivateDrag)},render:function(){var t=this.props,e=(t.connections||[]).map(function(t){return r.createElement("rect",{className:"area",key:t.id,x:t.x,y:t.y,width:t.w,height:t.h})});return r.createElement("g",{transform:"translate("+t.x+", "+t.y+")",width:t.w,height:t.h,onMouseDown:this.activateDrag},r.createElement(a,r.__spread({},t,{key:"bg",x:0,y:0})),e)}});t.exports=s},122:function(t,e,n){var r=n(14),o=r.PropTypes,i=r.createClass({displayName:"SvgImage",mixins:[r.addons.PureRenderMixin],propTypes:{x:o.number.isRequired,y:o.number.isRequired,w:o.number.isRequired,h:o.number.isRequired,bg:o.string.isRequired},componentDidMount:function(){this.props.bg&&this.getDOMNode().setAttributeNS("http://www.w3.org/1999/xlink","href",this.props.bg)},render:function(){return r.createElement("image",{x:this.props.x,y:this.props.y,width:this.props.w,height:this.props.h})}});t.exports=i},123:function(t,e,n){function r(t){"use strict";this.data=t||[]}var o=n(34),i=n(111).EventEmitter;for(var a in i)i.hasOwnProperty(a)&&(r[a]=i[a]);var s=null===i?null:i.prototype;r.prototype=Object.create(s),r.prototype.constructor=r,r.__superConstructor__=i,r.prototype.emitChange=function(){"use strict";this.emit("change")},r.prototype.add=function(t){"use strict";return this.data.push(t),!0},r.prototype.remove=function(t){"use strict";var e=this.data.indexOf(t);return 0>e?!1:(this.data.splice(e,1),!0)},r.prototype.update=function(t,e){"use strict";var n=o.findWhere(this.data,t);return o.isUndefined(n)?!1:o.merge(n,e)},r.prototype.getAll=function(){"use strict";return this.data},t.exports=r},221:function(t,e,n){function r(t){return o(t).map(function(e){return(e.connections||[]).map(function(n){var r=o.findWhere(t,{id:n.target});return{id:e.id+"->"+n.target,from:{x:e.x+n.x,y:e.y+n.y,w:n.w,h:n.h},to:{x:r.x,y:r.y,w:r.w,h:r.h}}})}).flatten().value()}var o=n(34);t.exports=r},222:function(t,e,n){var r=n(123),o=n(112),i=[{id:"A",x:0,y:0,w:120,h:120,bg:"http://lorempixel.com/120/120/abstract/2/",connections:[{target:"B",x:20,y:20,w:60,h:60},{target:"C",x:100,y:100,w:20,h:20}]},{id:"B",x:320,y:200,w:120,h:120,bg:"http://lorempixel.com/120/120/abstract/4/",connections:[{target:"A",x:80,y:40,w:40,h:40}]},{id:"C",x:20,y:200,w:120,h:120,bg:"http://lorempixel.com/120/120/abstract/1/"}],a=new r(i);o.register(function(t){return"STATE_MOVE"===t.type&&a.update(t.query,t.data),a.emitChange(),!0}),t.exports=a}});
//# sourceMappingURL=app-6ed2901495da6dc5a958.js.map